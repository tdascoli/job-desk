<h1>localInfo</h1>
<script>
  if (!String.prototype.trim) {
    String.prototype.trim = function() {
      return this.replace(/^\s+|\s+$/g, '');
    };
  }

  proj4.defs("EPSG:21781","+proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +k_0=1 +x_0=600000 +y_0=200000 +ellps=bessel +towgs84=674.4,15.1,405.3,0,0,0,0 +units=m +no_defs");

    var res = [4000, 3750, 3500, 3250, 3000, 2750, 2500, 2250, 2000, 1750, 1500, 1250, 1000, 750, 650, 500, 250, 100, 50, 20, 10, 5, 2.5, 2, 1.5, 1, 0.5];

    var scale = function(zoom) {
        return 1 / res[zoom];
      },

      crs = new L.Proj.CRS('EPSG:21781', '+proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 ' + '+k_0=1 +x_0=600000 +y_0=200000 +ellps=bessel +towgs84=674.374,15.056,405.346,0,0,0,0 +units=m +no_defs', {
        resolutions: res,
        origin: [420000, 350000]
      });

    var map = new L.Map('map', {
      crs:crs,
      continuousWorld: true,
      worldCopyJump: false,
      scale: scale,

      zoomControl: true,
      scrollWheelZoom: false,
      doubleClickZoom: true,
      maxBounds: [
        [45.5, 5.5],
        [48, 11]
      ]
    });

    var mapUrl = 'https://wmts6.geo.admin.ch/1.0.0/ch.swisstopo.pixelkarte-farbe/default/20140520/21781/{z}/{y}/{x}.jpeg',
      attrib = 'Map data &copy; 2014 swisstopo',
      tilelayer = new L.TileLayer(mapUrl, {
        scheme: 'xyz',
        maxZoom: res.length - 1,
        minZoom: 0,
        opacity: 0.75,
        continuousWorld: true,
        attribution: attrib
      });




    map.addLayer(tilelayer);

    map.setView([46.8, 8.3], 15);
</script>

<div id="map"></div>

<md-button ng-click="back()" class="md-fab md-primary md-fab-bottom-right jd-floating-fab"
           aria-label="global.navigation.search" md-theme-watch="true">
  <md-icon>arrow_backward</md-icon>
</md-button>
