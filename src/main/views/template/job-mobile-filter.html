<md-bottom-sheet class="md-list" ng-cloak>
  <md-list>
    <md-list-item class="md-2-line">
      <md-input-container flex="100" class="md-block isco-select" ng-if="!searchParams.iscoMajorGroup">
        <label><span translate="jobs.search.jobgroup"></span></label>
        <md-select ng-model="searchParams.iscoMajorGroup" ng-change="countJobs()" md-container-class="jd-selectpicker">
          <md-option ng-repeat="isco in iscoMajorGroup" value="{{isco.code}}"><span translate="{{isco.text}}"></span></md-option>
        </md-select>
      </md-input-container>

      <md-input-container flex="100" class="md-block isco-select" ng-if="searchParams.iscoMajorGroup">
        <label><span translate="isco.majorGroups.{{searchParams.iscoMajorGroup}}"></span></label>
        <md-select ng-model="searchParams.iscoGroupLevel3" ng-change="countJobs()" md-container-class="jd-selectpicker">
          <md-option value="0"><md-icon>done_all</md-icon> <span class="jd-select-reset" translate="jobs.search.allSubGroups"></span></md-option>
          <md-option ng-repeat="minorGroup in iscoMinorGroups[searchParams.iscoMajorGroup]" value="{{minorGroup}}"><span translate="isco.minorGroups.{{minorGroup}}"></span></md-option>
          <md-option value="-1" ng-click="searchParams.iscoMajorGroup='';searchParams.iscoGroupLevel3='';countJobs()"><md-icon>keyboard_arrow_left</md-icon><span class="jd-select-reset" translate="jobs.search.disableGroup"></span></md-option>
        </md-select>
      </md-input-container>
    </md-list-item>
    <md-list-item class="md-3-line">
      <div flex="20">
        <md-button class="md-icon-button jd-icon-button" ng-click="setMyLocation()">
          <md-icon id="resetLocation">my_location</md-icon>
        </md-button>
      </div>

      <md-input-container flex="60">
        <label translate="jobs.search.location"></label>
        <input type="number" min="1000" max="9999" name="location-sm" id="location-sm" ng-model="currentZip" />
      </md-input-container>


      <div flex="20">
        <md-button class="md-icon-button jd-icon-button" ng-click="setCurrentZip(false)">
          <md-icon>check</md-icon>
        </md-button>
      </div>
    </md-list-item>

    <md-list-item class="md-2-line">
      <md-select aria-label="distance" flex="100" ng-model="searchParams.distanceType" ng-change="countJobs()" ng-init="searchParams.distanceType=searchParams.distanceType || appConfig.distanceType ||Â 'distance'">
        <md-option value="distance" class="md-primary" aria-label="distance" ng-if="appConfig.availableDistanceType.distance"><span translate="jobs.search.distanceTypeDistance"></span></md-option>
        <md-option value="transport" class="md-primary" aria-label="travel time" ng-if="appConfig.availableDistanceType.transport"><span translate="jobs.search.distanceTypeTransport"></span></md-option>
        <md-option value="drive" class="md-primary" aria-label="travel time" ng-if="appConfig.availableDistanceType.drive"><span translate="jobs.search.distanceTypeDrive"></span></md-option>
        <md-option value="bike" class="md-primary" aria-label="travel time" ng-if="appConfig.availableDistanceType.bike"><span translate="jobs.search.distanceTypeBike"></span></md-option>
      </md-select>
    </md-list-item>

    <md-list-item class="md-2-line">
      <div flex="100" ng-if="searchParams.distanceType==='distance'">
        <label class="md-slider-label" translate="jobs.search.distance" translate-values="{value:searchParams.distance}"></label>
        <md-slider ng-model="searchParams.distance" step="{{distanceOptions.step}}" min="{{distanceOptions.min}}" max="{{distanceOptions.max}}" aria-label="distance" ng-change="countJobs()" class="md-primary"></md-slider>
      </div>

      <div flex="100" ng-if="searchParams.distanceType==='transport'">
        <label class="md-slider-label" translate="jobs.search.travelTime" translate-values="{value:showTimeInH(searchParams.travelTime)}"></label>
        <md-slider ng-model="searchParams.travelTime" step="{{transportOptions.step}}" min="{{transportOptions.min}}" max="{{transportOptions.max}}" aria-label="travelTime" ng-change="countJobs()" class="md-primary"></md-slider>
      </div>

      <div flex="100" ng-if="searchParams.distanceType==='drive' || searchParams.distanceType==='bike'">
        <label class="md-slider-label" translate="jobs.search.travelTime" translate-values="{value:showTimeInH(searchParams.travelTime)}"></label>
        <md-slider ng-model="searchParams.travelTime" step="{{driveOptions.step}}" min="{{driveOptions.min}}" max="{{driveOptions.max}}" aria-label="drive" ng-change="countJobs()" class="md-primary"></md-slider>
      </div>
    </md-list-item>

  </md-list>
</md-bottom-sheet>
